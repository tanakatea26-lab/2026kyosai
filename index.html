        <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px double rgba(139, 69, 19, 0.3);">
            <div id="spell-seal">
                <p style="font-size: 0.9rem; color: #5d3a1a; margin-bottom: 10px;">
                    手元にQRコードがない魔法使いは<br>下の封印を解くのです
                </p>
                <button id="unlockBtn" style="
                    background: #8b4513;
                    color: #f4e4bc;
                    border: 1px solid #d4af37;
                    padding: 12px 25px;
                    font-family: 'Sawarabi Mincho', serif;
                    font-size: 1rem;
                    cursor: pointer;
                    border-radius: 50px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                    transition: all 0.3s;
                ">呪文の封印を解く</button>
            </div>

            <div id="spell-reveal" style="display: none; animation: magicFadeIn 2.5s ease-out forwards;">
                <div style="font-size: 1.6rem; font-weight: bold; color: #a00; text-shadow: 0 0 15px rgba(255,0,0,0.4); margin-bottom: 15px;">
                    ―― アグアメンティ！ ――
                </div>
                <p style="font-size: 0.9rem; color: #5d3a1a; margin-bottom: 20px;">
                    封印が解かれました。呪文の先へ進みなさい。
                </p>
                <a href="https://tanakatea26-lab.github.io/2026kyosai_2/" style="
                    display: inline-block;
                    color: #8b4513;
                    text-decoration: none;
                    font-weight: bold;
                    border-bottom: 2px solid #8b4513;
                    padding-bottom: 2px;
                ">▶ 次の試練へ進む</a>
            </div>
        </div>

        <style>
            @keyframes magicFadeIn {
                0% { opacity: 0; filter: blur(20px) brightness(2); transform: scale(0.8); }
                50% { opacity: 0.8; filter: blur(5px) brightness(1.5); }
                100% { opacity: 1; filter: blur(0) brightness(1); transform: scale(1); }
            }
        </style>

        <script>
            // スクリプトの一番最後に追加
            const unlockBtn = document.getElementById('unlockBtn');
            const spellSeal = document.getElementById('spell-seal');
            const spellReveal = document.getElementById('spell-reveal');

            unlockBtn.addEventListener('click', function() {
                // 封印を隠して呪文を表示
                spellSeal.style.display = 'none';
                spellReveal.style.display = 'block';
                
                // もし音楽がまだ鳴っていなければ、ここで強制的に鳴らすことも可能です
                if (audio.paused) {
                    audio.play();
                }
            });
        </script>
